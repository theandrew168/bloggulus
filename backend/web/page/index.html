{{define "main"}}

<header class="articles-header">
	<h1 class="articles-header__title">Recent Articles</h1>
	<search>
		<form method="GET" action="/">
			<input
				class="input"
				type="text"
				name="q"
				value="{{.Search}}"
				placeholder="Search"
			/>
		</form>
	</search>
</header>

<section class="articles">
	{{range .Articles}}
	<article class="article">
		<header class="article__header">
			<span class="article__date">{{.PublishedAt.Format "Jan 2, 2006"}}</span>
			<ul class="article__tags">
				{{range .Tags}}
				<li><a class="article__tag" href="/?q={{.}}">{{.}}</a></li>
				{{end}}
			</ul>
		</header>
		<p><a class="article__title" href="{{.URL}}">{{.Title}}</a></p>
		<p><a class="article__blog-title" href="{{.BlogURL}}">{{.BlogTitle}}</a></p>
	</article>
	{{end}}
</section>

<!-- pagination -->
{{if .HasMorePages}}
<footer class="articles-footer">
	{{if .Search}}
	<a class="button button--outline" href="/?p={{.NextPage}}&q={{.Search}}">See More</a>
	{{else}}
	<a class="button button--outline" href="/?p={{.NextPage}}" >See More</a>
	{{end}}
</footer>
{{end}}

{{end}}
