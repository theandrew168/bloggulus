{{define "main"}}

<!-- articles heading -->
<div class="max-w-3xl mx-auto flex justify-between items-center gap-6 my-6 px-6 md:px-0">
	<h1 class="text-xl font-semibold text-gray-700 md:text-2xl  shrink-0">Recent Articles</h1>

	<!-- search -->
	<form method="GET" action="/" class="block relative">
		<span class="absolute inset-y-0 left-0 flex items-center pl-3">
			<svg class="w-5 h-5 text-gray-400" viewBox="0 0 24 24" fill="none">
				<path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
			</svg>
		</span>

		<input name="q" type="text" placeholder="Search" value="{{.Search}}" class="w-full py-2 pl-10 pr-4 text-gray-700 bg-white border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none focus:ring" />
	</form>
</div>

<!-- articles -->
<div class="px-6 md:px-0">
	{{range .Articles}}
	<div class="max-w-3xl mx-auto bg-white overflow-hidden shadow-md rounded-lg mb-6 p-6">
		<!-- date and tags -->
		<div class="flex justify-between items-center mb-2">
			<span class="text-sm font-light text-gray-600">{{.PublishedAt.Format "Jan 2, 2006"}}</span>
			<div class="flex items-center gap-x-2">
				{{range .Tags}}
				<a href="/?q={{.}}" class="text-sm font-semibold px-3 py-1 bg-gray-700 text-gray-100 rounded hover:bg-gray-500">{{.}}</a>
				{{end}}
			</div>
		</div>

		<!-- post title -->
		<div class="mb-2">
			<a href="{{.URL}}" class="text-2xl text-gray-700 font-semibold hover:underline">{{.Title}}</a>
		</div>

		<!-- blog title -->
		<div>
			<a href="{{.BlogURL}}" class="text-gray-700 font-semibold hover:underline">{{.BlogTitle}}</a>
		</div>
	</div>
	{{end}}
</div>

<!-- pagination -->
{{if .HasMorePages}}
<div class="mx-auto mb-6 px-16 md:px-0 flex justify-center items-center gap-x-4">
	{{if .Search}}
	<a href="/?p={{.NextPage}}&q={{.Search}}" class="bg-white text-gray-700 font-semibold shadow hover:shadow-md rounded px-6 py-2">See More</a>
	{{else}}
	<a href="/?p={{.NextPage}}" class="bg-white text-gray-700 font-semibold shadow hover:shadow-md rounded px-6 py-2">See More</a>
	{{end}}
</div>
{{end}}

{{end}}
